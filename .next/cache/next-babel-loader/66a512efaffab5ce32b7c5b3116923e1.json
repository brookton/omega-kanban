{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/Users/heegupark/Desktop/Workspace/MyProject/omega-kanban/components/card-body.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport Card from './card';\nimport Zoom from '@material-ui/core/Zoom';\n\nfunction CardBody(props) {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState([]),\n      cards = _useState[0],\n      setCards = _useState[1];\n\n  var _useState2 = useState(false),\n      isAdding = _useState2[0],\n      setIsAdding = _useState2[1];\n\n  var _useState3 = useState(false),\n      isDragging = _useState3[0],\n      setIsDragging = _useState3[1];\n\n  var _useState4 = useState(''),\n      cardTitle = _useState4[0],\n      setCardTitle = _useState4[1];\n\n  var _useState5 = useState(''),\n      cardBoxTitle = _useState5[0],\n      setCardBoxTitle = _useState5[1];\n\n  useEffect(function () {\n    if (props.cardBoxTitle) {\n      setCardBoxTitle(props.cardBoxTitle);\n    }\n  }, []);\n\n  var getItemStyle = function getItemStyle(isDragging, draggableStyle) {\n    return _objectSpread(_objectSpread({\n      userSelect: 'none',\n      padding: '15px',\n      margin: '5px 10px',\n      border: isDragging ? '2px solid rgb(0, 170, 255)' : '1px solid rgb(225,225,225)',\n      borderRadius: '10px',\n      boxShadow: 'rgba(0, 0, 0, 0.02) 0px 0px 0px 1px rgba(0, 0, 0, 0.05), 0px 1px 2px 0px, rgba(0, 0, 0, 0.05) 0px 2px 8px 0px',\n      background: isDragging ? 'rgb(241,251,255)' : 'white'\n    }, draggableStyle), {}, {\n      height: isDragging ? '100px' : '150px'\n    });\n  };\n\n  var onDragStart = function onDragStart(result) {\n    setIsDragging(true);\n\n    if (cardTitle.length < 1) {\n      setIsAdding(false);\n    }\n  };\n\n  var onDragEnd = function onDragEnd(result) {\n    setIsDragging(false);\n    props.onDragEnd(result);\n  };\n\n  var handleAddCard = function handleAddCard() {\n    setIsAdding(true); // setCards([...cards, 1]);\n  };\n\n  var handleAddCardBlur = function handleAddCardBlur() {\n    if (cardTitle.length < 1) setIsAdding(false);\n  };\n\n  var handleKeyDownForAddCard = function handleKeyDownForAddCard(event) {\n    if (event.key === 'Enter') {\n      handleCardTitleSubmit();\n    }\n  };\n\n  var handleCardTitleSubmit = function handleCardTitleSubmit() {\n    if (cardTitle.length > 0) {\n      // setCards([...cards, { cardTitle }] as any);\n      props.addCard(props.column.id, {\n        cardTitle: cardTitle\n      });\n      setCardTitle('');\n    }\n\n    setIsAdding(false);\n  };\n\n  return __jsx(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, __jsx(DragDropContext, {\n    onDragEnd: onDragEnd,\n    onDragStart: onDragStart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, __jsx(Droppable, {\n    droppableId: props.column.id,\n    mode: \"virtual\",\n    renderClone: function renderClone(provided, snapshot, rubric) {\n      return __jsx(Card, {\n        provided: provided,\n        isDragging: snapshot.isDragging,\n        item: column.items[rubric.source.index],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, function (provided, snapshot) {\n    return __jsx(\"div\", _extends({\n      ref: provided.innerRef\n    }, provided.droppableProps, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }), props.column.cards.map(function (card, index) {\n      return __jsx(Draggable, {\n        key: index,\n        draggableId: index.toString(),\n        index: index,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 19\n        }\n      }, function (provided, snapshot) {\n        return __jsx(\"div\", _extends({\n          ref: provided.innerRef\n        }, provided.draggableProps, provided.dragHandleProps, {\n          style: getItemStyle(snapshot.isDragging, provided.draggableProps.style),\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 23\n          }\n        }), __jsx(Card, {\n          cardTitle: card.cardTitle,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }\n        }));\n      });\n    }), isDragging ? '' : isAdding ? __jsx(Zoom, {\n      \"in\": isAdding,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"h-top flex-center mb-25px\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 19\n      }\n    }, __jsx(\"input\", {\n      className: \"box-shadow-1 w-100per add-card-title\",\n      value: cardTitle,\n      autoFocus: true,\n      onBlur: function onBlur() {\n        return handleAddCardBlur();\n      },\n      onKeyDown: function onKeyDown(event) {\n        return handleKeyDownForAddCard(event);\n      },\n      onChange: function onChange(e) {\n        return setCardTitle(e.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }\n    }))) : __jsx(\"div\", {\n      className: \"h-top flex-center mb-25px cursor-pointer\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }, __jsx(\"i\", {\n      onClick: function onClick() {\n        return handleAddCard();\n      },\n      className: \"add-card-icon box-shadow-1 fas fa-plus\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 19\n      }\n    })), provided.placeholder);\n  })));\n}\n\n_s(CardBody, \"1u3TID+rGIBJjfUAIMH41XsN3KI=\");\n\n_c = CardBody;\nexport default CardBody;\n\nvar _c;\n\n$RefreshReg$(_c, \"CardBody\");","map":{"version":3,"sources":["/Users/heegupark/Desktop/Workspace/MyProject/omega-kanban/components/card-body.tsx"],"names":["React","useState","useEffect","DragDropContext","Droppable","Draggable","Card","Zoom","CardBody","props","cards","setCards","isAdding","setIsAdding","isDragging","setIsDragging","cardTitle","setCardTitle","cardBoxTitle","setCardBoxTitle","getItemStyle","draggableStyle","userSelect","padding","margin","border","borderRadius","boxShadow","background","height","onDragStart","result","length","onDragEnd","handleAddCard","handleAddCardBlur","handleKeyDownForAddCard","event","key","handleCardTitleSubmit","addCard","column","id","provided","snapshot","rubric","items","source","index","innerRef","droppableProps","map","card","toString","draggableProps","dragHandleProps","style","e","target","value","placeholder"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport Card from './card';\nimport Zoom from '@material-ui/core/Zoom';\n\nfunction CardBody(props: any) {\n  const [cards, setCards] = useState([]);\n  const [isAdding, setIsAdding] = useState(false);\n  const [isDragging, setIsDragging] = useState(false);\n  const [cardTitle, setCardTitle] = useState('');\n  const [cardBoxTitle, setCardBoxTitle] = useState('');\n\n  useEffect(() => {\n    if (props.cardBoxTitle) {\n      setCardBoxTitle(props.cardBoxTitle);\n    }\n  }, []);\n\n  const getItemStyle = (isDragging: any, draggableStyle: any) => ({\n    userSelect: 'none',\n    padding: '15px',\n    margin: '5px 10px',\n    border: isDragging\n      ? '2px solid rgb(0, 170, 255)'\n      : '1px solid rgb(225,225,225)',\n    borderRadius: '10px',\n    boxShadow:\n      'rgba(0, 0, 0, 0.02) 0px 0px 0px 1px rgba(0, 0, 0, 0.05), 0px 1px 2px 0px, rgba(0, 0, 0, 0.05) 0px 2px 8px 0px',\n    background: isDragging ? 'rgb(241,251,255)' : 'white',\n    ...draggableStyle,\n    height: isDragging ? '100px' : '150px',\n  });\n\n  const onDragStart = (result: any) => {\n    setIsDragging(true);\n    if (cardTitle.length < 1) {\n      setIsAdding(false);\n    }\n  };\n\n  const onDragEnd = (result: any) => {\n    setIsDragging(false);\n    props.onDragEnd(result);\n  };\n\n  const handleAddCard = () => {\n    setIsAdding(true);\n    // setCards([...cards, 1]);\n  };\n\n  const handleAddCardBlur = () => {\n    if (cardTitle.length < 1) setIsAdding(false);\n  };\n\n  const handleKeyDownForAddCard = (event: any) => {\n    if (event.key === 'Enter') {\n      handleCardTitleSubmit();\n    }\n  };\n\n  const handleCardTitleSubmit = () => {\n    if (cardTitle.length > 0) {\n      // setCards([...cards, { cardTitle }] as any);\n      props.addCard(props.column.id, { cardTitle });\n      setCardTitle('');\n    }\n    setIsAdding(false);\n  };\n\n  return (\n    <div className=\"card-body\">\n      <DragDropContext onDragEnd={onDragEnd} onDragStart={onDragStart}>\n        <Droppable\n          droppableId={props.column.id}\n          mode=\"virtual\"\n          renderClone={(provided, snapshot, rubric) => (\n            <Card\n              provided={provided}\n              isDragging={snapshot.isDragging}\n              item={column.items[rubric.source.index]}\n            />\n          )}\n        >\n          {(provided: any, snapshot: any) => (\n            <div ref={provided.innerRef} {...provided.droppableProps}>\n              {props.column.cards.map((card: any, index: any) => {\n                return (\n                  <Draggable\n                    key={index}\n                    draggableId={index.toString()}\n                    index={index}\n                  >\n                    {(provided: any, snapshot: any) => (\n                      <div\n                        ref={provided.innerRef}\n                        {...provided.draggableProps}\n                        {...provided.dragHandleProps}\n                        style={getItemStyle(\n                          snapshot.isDragging,\n                          provided.draggableProps.style\n                        )}\n                      >\n                        <Card cardTitle={card.cardTitle} />\n                      </div>\n                    )}\n                  </Draggable>\n                );\n              })}\n              {isDragging ? (\n                ''\n              ) : isAdding ? (\n                <Zoom in={isAdding}>\n                  <div className=\"h-top flex-center mb-25px\">\n                    <input\n                      className=\"box-shadow-1 w-100per add-card-title\"\n                      value={cardTitle}\n                      autoFocus\n                      onBlur={() => handleAddCardBlur()}\n                      onKeyDown={(event) => handleKeyDownForAddCard(event)}\n                      onChange={(e) => setCardTitle(e.target.value)}\n                    ></input>\n                  </div>\n                </Zoom>\n              ) : (\n                <div className=\"h-top flex-center mb-25px cursor-pointer\">\n                  <i\n                    onClick={() => handleAddCard()}\n                    className=\"add-card-icon box-shadow-1 fas fa-plus\"\n                  ></i>\n                </div>\n              )}\n              {provided.placeholder}\n            </div>\n          )}\n        </Droppable>\n      </DragDropContext>\n    </div>\n  );\n}\nexport default CardBody;\n"]},"metadata":{},"sourceType":"module"}