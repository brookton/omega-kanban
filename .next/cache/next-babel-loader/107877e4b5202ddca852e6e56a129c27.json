{"ast":null,"code":"import Card from '../../middleware/models/card';\nexport default (async (request, response) => {\n  const {\n    columnId,\n    cards\n  } = request.body;\n  console.log(cards);\n\n  try {\n    cards.map(async card => {\n      console.log(card.order);\n      const currentCard = await Card.findOne({\n        _id: card._id\n      });\n      console.log(currentCard);\n      console.log(card.order);\n      currentCard.order = card.order;\n      await currentCard.save(); // console.log(temp);\n    });\n    return response.status(200).json({\n      success: true\n    });\n  } catch (e) {\n    return response.status(500).json({\n      success: false,\n      message: 'failed to reorder cards in a same column'\n    });\n  }\n});","map":{"version":3,"sources":["/Users/heegupark/Desktop/Workspace/MyProject/omega-kanban/pages/api/reorder-card.tsx"],"names":["Card","request","response","columnId","cards","body","console","log","map","card","order","currentCard","findOne","_id","save","status","json","success","e","message"],"mappings":"AACA,OAAOA,IAAP,MAAiB,8BAAjB;AAGA,gBAAe,OAAOC,OAAP,EAAgCC,QAAhC,KAA8D;AAC3E,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAAsBH,OAAO,CAACI,IAApC;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;;AACA,MAAI;AACFA,IAAAA,KAAK,CAACI,GAAN,CAAU,MAAOC,IAAP,IAAuB;AAC/BH,MAAAA,OAAO,CAACC,GAAR,CAAYE,IAAI,CAACC,KAAjB;AACA,YAAMC,WAAW,GAAG,MAAMX,IAAI,CAACY,OAAL,CAAa;AAAEC,QAAAA,GAAG,EAAEJ,IAAI,CAACI;AAAZ,OAAb,CAA1B;AACAP,MAAAA,OAAO,CAACC,GAAR,CAAYI,WAAZ;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAYE,IAAI,CAACC,KAAjB;AACAC,MAAAA,WAAW,CAACD,KAAZ,GAAoBD,IAAI,CAACC,KAAzB;AACA,YAAMC,WAAW,CAACG,IAAZ,EAAN,CAN+B,CAO/B;AACD,KARD;AASA,WAAOZ,QAAQ,CAACa,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAA1B,CAAP;AACD,GAXD,CAWE,OAAOC,CAAP,EAAU;AACV,WAAOhB,QAAQ,CAACa,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;AAC/BC,MAAAA,OAAO,EAAE,KADsB;AAE/BE,MAAAA,OAAO,EAAE;AAFsB,KAA1B,CAAP;AAID;AACF,CApBD","sourcesContent":["import { NextApiRequest, NextApiResponse } from 'next';\nimport Card from '../../middleware/models/card';\nimport ICard from '../../components/interfaces/icard';\n\nexport default async (request: NextApiRequest, response: NextApiResponse) => {\n  const { columnId, cards } = request.body;\n  console.log(cards);\n  try {\n    cards.map(async (card: ICard) => {\n      console.log(card.order);\n      const currentCard = await Card.findOne({ _id: card._id });\n      console.log(currentCard);\n      console.log(card.order);\n      currentCard.order = card.order;\n      await currentCard.save();\n      // console.log(temp);\n    });\n    return response.status(200).json({ success: true });\n  } catch (e) {\n    return response.status(500).json({\n      success: false,\n      message: 'failed to reorder cards in a same column',\n    });\n  }\n};\n"]},"metadata":{},"sourceType":"module"}